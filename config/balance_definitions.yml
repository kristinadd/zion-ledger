# Each balance definition specifies:
#   - name: Unique identifier for this balance type
#   - time_axis: Which timestamp to use (committed or reporting)
#   - address_patterns: Which addresses to include in the calculation
#   - description: What this balance represents
#
# Time axes explained:
#   - committed: Real-time balance (when transaction was stored)
#   - reporting: Accounting balance (when transaction settles/has legal impact)

balances:
  # Customer-facing balance: What the user sees in the app
  # Uses committed_at for real-time updates
  customer_facing_balance:
    time_axis: committed
    address_patterns:
      - namespace: com.zion.account
        names:
          - checking
          - savings
    description: "Real-time balance shown to customer in mobile app"
    
  # Interest-chargeable balance: Used for overdraft fee calculations
  # Uses reporting_at to only count settled transactions
  # From M: "We don't charge overdraft interest until pending transactions have been settled"
  interest_chargeable_balance:
    time_axis: reporting
    address_patterns:
      - namespace: com.zion.account
        names:
          - checking
    description: "Balance used for calculating overdraft interest (settled transactions only)"
    
  # Checking account balance: Just the checking account
  checking_balance:
    time_axis: committed
    address_patterns:
      - namespace: com.zion.account
        names:
          - checking
    description: "Balance of checking account only"
    
  # Savings account balance: Just the savings account
  savings_balance:
    time_axis: committed
    address_patterns:
      - namespace: com.zion.account
        names:
          - savings
    description: "Balance of savings account only"
    
  # Settlement balance: Pending transactions not yet settled
  settlement_balance:
    time_axis: committed
    address_patterns:
      - namespace: com.zion.account
        names:
          - settlement
    description: "Pending transactions awaiting settlement"

